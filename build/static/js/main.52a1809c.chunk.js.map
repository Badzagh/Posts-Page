{"version":3,"sources":["PostList.js","DataFetching.js","Navbar.js","NewPost.js","App.js","index.js"],"names":["reducer","state","action","type","editTitle","payload","editBody","id","value","editForm","PostList","props","posts","useReducer","dispatch","myPix","handleClickShow","e","target","console","log","handleClickClose","className","map","post","src","title","body","onClick","onChange","handleEditInputTitleChange","handleEditInputTextChange","fetch","method","headers","JSON","stringify","then","response","json","window","location","reload","DataFetching","useEffect","abortCont","AbortController","setTimeout","a","signal","data","getResponse","abort","Navbar","to","NewPost","onSubmit","preventDefault","requestOptions","userId","handleInputTitleChange","handleInputTextChange","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2PAIA,SAASA,EAASC,EAAOC,GACvB,OAAOA,EAAOC,MACZ,IAAK,YACH,OAAO,2BACAF,GADP,IAEIG,UAAWF,EAAOG,UAExB,IAAK,WACH,OAAO,2BACAJ,GADP,IAEIK,SAAUJ,EAAOG,UAEvB,IAAK,KACH,OAAO,2BACFJ,GADL,IAEEM,GAAIL,EAAOM,QAEf,IAAK,WACH,OAAO,2BACFP,GADL,IAEEQ,SAAUP,EAAOG,UAErB,QACE,OAAOJ,GA+EES,MA3Ef,SAAkBC,GAChB,IAAMC,EAAQD,EAAMC,MAEpB,EAA0BC,qBAAWb,EAAS,CAAEI,UAAW,GAAIE,SAAU,GAAKC,GAAI,EAAGE,SAAU,qBAA/F,mBAAOR,EAAP,KAAca,EAAd,KAEIC,EAAQ,CAAC,GAAG,+HACA,+HACA,6EACA,oKACA,+HACA,+HACA,+HACA,+HACA,+HACA,qKAWVC,EAAkB,SAACC,GACvBH,EAAS,CAAEX,KAAM,WAAYE,QAAS,sBACtCS,EAAS,CAAEX,KAAM,KAAMK,MAAOS,EAAEC,OAAOV,QACvCW,QAAQC,IAAIH,EAAEC,OAAOV,OACrBW,QAAQC,IAAInB,EAAMM,KAEdc,EAAmB,SAACJ,GACxBH,EAAS,CAAEX,KAAM,WAAYE,QAAS,qBACtCS,EAAS,CAAEX,KAAM,KAAMK,MAAO,KAkBhC,OACE,sBAAKc,UAAU,YAAf,UACGV,EAAMW,KAAI,SAAAC,GAAI,OACb,sBAAmBF,UAAU,iBAA7B,UACE,qBAAKG,IAAKV,EAAMS,EAAKjB,MACrB,6BAAKiB,EAAKE,QACV,4BAAIF,EAAKG,OACT,mDACA,wBAAQC,QAASZ,EAAiBR,MAAOgB,EAAKjB,GAA9C,yBALQiB,EAAKjB,OAQhB,sBAAKe,UAAWrB,EAAMQ,SAAtB,UACK,2CACA,uBAAOoB,SAAU,SAAAZ,GAAC,OAhDO,SAACA,GAClCH,EAAS,CAAEX,KAAM,YAAaE,QAASY,EAAEC,OAAOV,QA+ClBsB,CAA2Bb,IAAId,KAAK,OAAOK,MAAOP,EAAMG,YAC9E,0BAAUyB,SAAU,SAAAZ,GAAC,OA7CG,SAACA,GACjCH,EAAS,CAAEX,KAAM,WAAYE,QAASY,EAAEC,OAAOV,QA4CduB,CAA0Bd,IAAId,KAAK,OAAOK,MAAOP,EAAMK,WAChF,wBAAQsB,QA7BM,WACtBI,MAAM,8CAAD,OAA+C/B,EAAMM,IAAM,CAC9D0B,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BP,KAAMQ,KAAKC,UAAU,CACnBV,MAAOzB,EAAMG,UACbuB,KAAO1B,EAAMK,aAGhB+B,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,kBAAMG,OAAOC,SAASC,aAmBpB,2BACA,sBAAMpB,UAAU,kBAAkBM,QAASP,IAC3C,sBAAMC,UAAU,mBAAmBM,QAASP,WC/FxD,SAASrB,EAASC,EAAOC,GACrB,OAAO,2BACAD,GADP,IAEIW,MAAOV,EAAOG,UAsCPsC,MAhCf,WACI,MAA0B9B,qBAAWb,EAAS,CAAEY,MAAO,KAAvD,mBAAOX,EAAP,KAAca,EAAd,KAwBA,OAtBA8B,qBAAU,WACN,IAAMC,EAAY,IAAIC,gBAgBtB,OAdAC,YAAW,WAAM,4CACb,sBAAAC,EAAA,sEACUhB,MAAM,6CAA8C,CAAEiB,OAAQJ,EAAUI,SAC7EZ,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACa,GACHpC,EAAS,CAAET,QAAS6C,IACpB/B,QAAQC,IAAI8B,EAAM,gBAL1B,4CADa,uBAAC,WAAD,wBAWbC,KACD,KAEI,kBAAMN,EAAUO,WACxB,IAKC,mCACI,cAAC,EAAD,CAAUxC,MAAQX,EAAMW,W,OCzBrByC,MAbf,WACE,OACE,sBAAK/B,UAAU,mBAAf,UACE,2CACA,gCACE,cAAC,IAAD,CAAMgC,GAAG,SAAT,wBACA,cAAC,IAAD,CAAMA,GAAG,UAAT,6BCLR,SAAStD,EAASC,EAAOC,GACvB,OAAOA,EAAOC,MACZ,IAAK,QACH,OAAO,2BACAF,GADP,IAEIyB,MAAOxB,EAAOG,UAEpB,IAAK,OACH,OAAO,2BACAJ,GADP,IAEI0B,KAAMzB,EAAOG,UAEnB,QACE,OAAOJ,GAyDEsD,MApDf,WAEE,MAA0B1C,qBAAWb,EAAS,CAAE0B,MAAO,GAAIC,KAAM,KAAjE,mBAAO1B,EAAP,KAAca,EAAd,KAmCA,OACE,sBAAKQ,UAAU,iBAAf,UACE,6CACA,uBAAMkC,SA5BW,SAACvC,GAClBA,EAAEwC,iBAGF,IAAMC,EAAiB,CACnBzB,OAAQ,OACRC,QAAS,CAAE,eAAgB,mCAC3BP,KAAMQ,KAAKC,UAAU,CACjBuB,OAAQ,GACRjC,MAAOzB,EAAMyB,MACbC,KAAO1B,EAAM0B,QAGrBK,MAAM,6CAA8C0B,GAC/CrB,MAAK,SAAAC,GACJA,EAASC,OACTpB,QAAQC,IAAIkB,EAAU,sBAEvBD,MAAK,SAACa,GAEH/B,QAAQC,IAAI,kBAQpB,UACE,gDACA,uBAAOS,SAAU,SAAAZ,GAAC,OAtCO,SAACA,GAC9BH,EAAS,CAAEX,KAAM,QAASE,QAASY,EAAEC,OAAOV,QAqClBoD,CAAuB3C,IAAIV,GAAG,cAAcJ,KAAK,OAAOK,MAAOP,EAAMyB,QAC3F,+CACA,0BAAUG,SAAU,SAAAZ,GAAC,OApCG,SAACA,GAC7BH,EAAS,CAAEX,KAAM,OAAQE,QAASY,EAAEC,OAAOV,QAmCdqD,CAAsB5C,IAAId,KAAK,OAAOI,GAAG,aAAaC,MAAOP,EAAM0B,OAC5F,wBAAQxB,KAAK,SAAb,6B,OCxCO2D,MArBf,WACE,OACE,cAAC,IAAD,UACE,gCACE,cAAC,EAAD,IACA,mCACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,UAAlB,SACE,cAAC,EAAD,iBCVdC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.52a1809c.chunk.js","sourcesContent":["import { useState, useReducer } from \"react\"\nimport './App.css';\n\n\nfunction reducer (state, action){\n  switch(action.type){\n    case 'editTitle':  \n      return { \n          ...state,\n          editTitle: action.payload\n      }\n    case 'editBody':  \n      return { \n          ...state,\n          editBody: action.payload\n      }\n    case 'id':  \n      return { \n        ...state,\n        id: action.value\n    }\n    case 'editForm':  \n      return { \n        ...state,\n        editForm: action.payload\n    }\n    default:\n      return state\n  }\n}\n\nfunction PostList(props) {\n  const posts = props.posts\n\n  const [state, dispatch] = useReducer(reducer, { editTitle: \"\", editBody: \"\" , id: 1, editForm: \"edit-form-hidden\"})\n\n  var myPix = [\"\",\"https://randomwordgenerator.com/img/picture-generator/54e2d7404b52a514f1dc8460962e33791c3ad6e04e507441722872d5924fcd_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e8d6474d57a514f1dc8460962e33791c3ad6e04e507440742f7cd7904bc4_640.jpg\",\n                  \"https://www.asalesguy.com/wp-content/uploads/2016/09/dark-path-970882.jpeg\",\n                  \"https://randompicturegenerator.com/img/people-generator/gbb18dc4db1059b5ef1f6c29a86a932f4600728d365ea6602329d861b0a2d6feeb7408ab798e0c87ddddf095809b8abc0_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e4d5424850a914f1dc8460962e33791c3ad6e04e50744172297cd5914cc7_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e5d1414952a914f1dc8460962e33791c3ad6e04e5074417c2d78d39644c5_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e3d3474254a514f1dc8460962e33791c3ad6e04e50744172287ad2964cc0_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e7d74a4855a814f1dc8460962e33791c3ad6e04e50744074267ad19644c0_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/52e3d3454a52a914f1dc8460962e33791c3ad6e04e507440712f7bd5904ec6_640.jpg\",\n                  \"https://randompicturegenerator.com/img/people-generator/gb4612c18d373b8d417f10aa4b359fd5fcd0c238fe9b1a09802c3d28817c9300f3c5c526faef7801f7c6c4333eba122c8_640.jpg\"];\n\n  const handleEditInputTitleChange = (e) => {\n    dispatch({ type: \"editTitle\", payload: e.target.value})\n  }\n\n  const handleEditInputTextChange = (e) => {\n    dispatch({ type: \"editBody\", payload: e.target.value})\n  }\n\n\n  const handleClickShow = (e) => {\n    dispatch({ type: \"editForm\", payload: \"edit-form-visible\"})\n    dispatch({ type: \"id\", value: e.target.value})\n    console.log(e.target.value)\n    console.log(state.id)\n  }\n  const handleClickClose = (e) => {\n    dispatch({ type: \"editForm\", payload: \"edit-form-hidden\"})\n    dispatch({ type: \"id\", value: 1})\n    \n  }\n\n  const handleClickEdit = () => {\n    fetch(`https://jsonplaceholder.typicode.com/posts/${state.id}`, {\n      method: \"PATCH\",\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        title: state.editTitle,\n        body : state.editBody\n        })\n    })\n    .then((response) => response.json())\n    .then(() => window.location.reload())\n  }\n  \n\n  return (\n    <div className='post-list'>\n      {posts.map(post => (\n        <div key={post.id} className=\"post-list-item\">\n          <img src={myPix[post.id]} />\n          <h4>{post.title}</h4>\n          <p>{post.body}</p>\n          <span>Wed jun 23 2021</span>\n          <button onClick={handleClickShow} value={post.id}>Edit post</button>\n        </div>\n       ))}\n       <div className={state.editForm}>\n            <h4>Edit Post</h4>\n            <input onChange={e => handleEditInputTitleChange(e)} type=\"text\" value={state.editTitle}></input>\n            <textarea onChange={e => handleEditInputTextChange(e)} type=\"text\" value={state.editBody}></textarea>\n            <button onClick={handleClickEdit}>CLICK TO EDIT</button>\n            <span className='close-icon-left' onClick={handleClickClose}></span>\n            <span className='close-icon-right' onClick={handleClickClose}></span>\n       </div>\n    </div>\n  )\n  \n}\n\nexport default PostList;","import { useEffect, useReducer, useState } from \"react\";\nimport PostList from \"./PostList\";\n\n\nfunction reducer (state, action){\n    return { \n        ...state,\n        posts: action.payload\n    }\n}\n\n\n\nfunction DataFetching() {\n    const [state, dispatch] = useReducer(reducer, { posts: []});\n\n    useEffect(() => {\n        const abortCont = new AbortController();\n\n        setTimeout(() => {\n            async function getResponse() {\n                await fetch('https://jsonplaceholder.typicode.com/posts', { signal: abortCont.signal })\n                .then((response) => response.json())\n                .then((data) => {\n                    dispatch({ payload: data})\n                    console.log(data, \"its posts\")\n                })\n                \n            };\n            \n            getResponse();\n        }, 100);\n            \n        return () => abortCont.abort();\n    }, [])\n    \n    \n\n    return (\n        <>\n            <PostList posts ={state.posts}/>\n        </>\n    )\n}\n\nexport default DataFetching;","import { Link } from 'react-router-dom'\n\nfunction Navbar() {\n  return (\n    <div className='header-container'>\n      <h1>OUR BLOGS</h1>\n      <nav>\n        <Link to=\"/Posts\">Blog posts</Link>\n        <Link to=\"/create\">New Blog</Link>\n      </nav>\n    </div>\n  )\n  \n}\n\nexport default Navbar;","import { useReducer } from \"react\";\n\n\nfunction reducer (state, action){\n  switch(action.type){\n    case 'title':  \n      return { \n          ...state,\n          title: action.payload\n      }\n    case 'body':  \n      return { \n          ...state,\n          body: action.payload\n      }\n    default:\n      return state\n  }\n}\n\n\nfunction NewPost() {\n\n  const [state, dispatch] = useReducer(reducer, { title: \"\", body: \"\"})\n\n  const handleInputTitleChange = (e) => {\n    dispatch({ type: \"title\", payload: e.target.value})\n  }\n\n  const handleInputTextChange = (e) => {\n    dispatch({ type: \"body\", payload: e.target.value})\n  }\n\n  const handleSubmit = (e) => {\n      e.preventDefault();\n\n      \n      const requestOptions = {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json; charset=UTF-8' },\n          body: JSON.stringify({\n              userId: 10,\n              title: state.title,\n              body : state.body\n              })\n      };\n      fetch('https://jsonplaceholder.typicode.com/posts', requestOptions)\n          .then(response => {\n            response.json()\n            console.log(response, \"request sucsess\")\n          })\n          .then((data) => {\n\n              console.log(\"post added\")\n          })\n  }\n\n\n  return (\n    <div className=\"form-container\">\n      <h2>Create Post</h2>\n      <form onSubmit={handleSubmit}>\n        <label>Blog title:</label>\n        <input onChange={e => handleInputTitleChange(e)} id=\"title-value\" type=\"text\" value={state.title}></input>\n        <label>Blog text:</label>\n        <textarea onChange={e => handleInputTextChange(e)} type=\"text\" id=\"text-value\" value={state.body}></textarea>\n        <button type=\"submit\">Add Blog</button>\n      </form>\n    </div>\n  )\n  \n}\n\nexport default NewPost;","import DataFetching from \"./DataFetching\"\nimport Navbar from \"./Navbar\"\nimport NewPost from \"./NewPost\"\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\nfunction App() {\n  return (\n    <Router>\n      <div>\n        <Navbar />\n        <>\n          <Switch>\n            <Route exact path=\"/posts\">\n              <DataFetching />\n            </Route>\n            <Route exact path=\"/create\">\n              <NewPost />\n            </Route>\n          </Switch>\n        </>\n      </div>\n    </Router>\n  )\n  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n//api fetch\n/*fetch('https://jsonplaceholder.typicode.com/posts')\n      .then(response => {\n        if(response.ok){\n          return response.json()\n        } else {\n          throw Error\n        }\n      })\n      .then(json => \n        document.getElementById('root').innerHTML =\n        JSON.stringify(json)\n        ).catch(error => {\n          console.log(error)\n        })*/\n\n  //asinc/await1\n  /*async function getResponse() {\n    let response = await fetch('https://jsonplaceholder.typicode.com/posts')\n    let content = await response.json()\n    content = content.splice(0, 4)\n\n    let list = document.querySelector('.posts')\n\n    let key;\n\n    for (key in content) {\n      \n        list.innerHTML += `\n        <li>\n          <h4>${content[key].title}</h4>\n          <p>${content[key].body}</p>\n        </li>\n      `\n    }\n  };\n\n  getResponse();*/\n\n  //async/await2\n  /*async function getResponse() {\n\n    let response = await fetch('https://jsonplaceholder.typicode.com/posts')\n\n    if(!response.ok){\n      throw new Error(`შეცდომა მისამართზე ${'https://jsonplaceholder.typicode.com/posts'}, სტატუსი შეცდომა ${response}`);\n    } \n\n    return await response.json();\n  }\n  getResponse().then((data) => console.log(data))*/\n  \n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}