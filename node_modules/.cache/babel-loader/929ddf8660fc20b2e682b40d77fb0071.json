{"ast":null,"code":"import _regeneratorRuntime from\"/home/ilia/Documents/Saba/newProjectApi/my-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ilia/Documents/Saba/newProjectApi/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ilia/Documents/Saba/newProjectApi/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/ilia/Documents/Saba/newProjectApi/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useEffect,useReducer}from\"react\";import PostList from\"./PostList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function reducer(state,action){return _objectSpread(_objectSpread({},state),{},{posts:action.payload});}function DataFetching(){var _useReducer=useReducer(reducer,{posts:[]}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var abortCont=new AbortController();setTimeout(function(){function getResponse(){return _getResponse.apply(this,arguments);}function _getResponse(){_getResponse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,content;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8000/Posts',{signal:abortCont.signal});case 2:response=_context.sent;_context.next=5;return response.json();case 5:content=_context.sent;dispatch({payload:content});console.log(content,\"its posts\");case 8:case\"end\":return _context.stop();}}},_callee);}));return _getResponse.apply(this,arguments);};getResponse();},100);return function(){return abortCont.abort();};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(PostList,{posts:state.posts})});}export default DataFetching;","map":{"version":3,"sources":["/home/ilia/Documents/Saba/newProjectApi/my-app/src/DataFetching.js"],"names":["useEffect","useReducer","PostList","reducer","state","action","posts","payload","DataFetching","dispatch","abortCont","AbortController","setTimeout","getResponse","fetch","signal","response","json","content","console","log","abort"],"mappings":"ggBAAA,OAASA,SAAT,CAAoBC,UAApB,KAAsC,OAAtC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,gGAGA,QAASC,CAAAA,OAAT,CAAkBC,KAAlB,CAAyBC,MAAzB,CAAgC,CAC5B,sCACOD,KADP,MAEIE,KAAK,CAAED,MAAM,CAACE,OAFlB,GAIH,CAID,QAASC,CAAAA,YAAT,EAAwB,CACpB,gBAA0BP,UAAU,CAACE,OAAD,CAAU,CAAEG,KAAK,CAAE,EAAT,CAAV,CAApC,4CAAOF,KAAP,iBAAcK,QAAd,iBAGAT,SAAS,CAAC,UAAM,CACZ,GAAMU,CAAAA,SAAS,CAAG,GAAIC,CAAAA,eAAJ,EAAlB,CAEAC,UAAU,CAAC,UAAM,SACEC,CAAAA,WADF,2IACb,8KACyBC,CAAAA,KAAK,CAAC,6BAAD,CAAgC,CAAEC,MAAM,CAAEL,SAAS,CAACK,MAApB,CAAhC,CAD9B,QACQC,QADR,qCAEwBA,CAAAA,QAAQ,CAACC,IAAT,EAFxB,QAEQC,OAFR,eAGIT,QAAQ,CAAC,CAAEF,OAAO,CAAEW,OAAX,CAAD,CAAR,CACAC,OAAO,CAACC,GAAR,CAAYF,OAAZ,CAAqB,WAArB,EAJJ,sDADa,8CAMZ,CAEDL,WAAW,GACd,CATS,CASP,GATO,CAAV,CAWA,MAAO,kBAAMH,CAAAA,SAAS,CAACW,KAAV,EAAN,EAAP,CACH,CAfQ,CAeN,EAfM,CAAT,CAkBA,mBACI,sCACI,KAAC,QAAD,EAAU,KAAK,CAAGjB,KAAK,CAACE,KAAxB,EADJ,EADJ,CAKH,CAED,cAAeE,CAAAA,YAAf","sourcesContent":["import { useEffect, useReducer } from \"react\";\nimport PostList from \"./PostList\";\n\n\nfunction reducer (state, action){\n    return { \n        ...state,\n        posts: action.payload\n    }\n}\n\n\n\nfunction DataFetching() {\n    const [state, dispatch] = useReducer(reducer, { posts: []})\n    \n\n    useEffect(() => {\n        const abortCont = new AbortController();\n\n        setTimeout(() => {\n            async function getResponse() {\n                let response = await fetch('http://localhost:8000/Posts', { signal: abortCont.signal })\n                let content = await response.json();\n                dispatch({ payload: content})\n                console.log(content, \"its posts\")\n            };\n            \n            getResponse();\n        }, 100);\n            \n        return () => abortCont.abort();\n    }, [])\n\n\n    return (\n        <>\n            <PostList posts ={state.posts}/>\n        </>\n    )\n}\n\nexport default DataFetching;"]},"metadata":{},"sourceType":"module"}