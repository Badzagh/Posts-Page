{"ast":null,"code":"var _jsxFileName = \"/home/ilia/Documents/Saba/my-app/src/PostList.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from 'react-router-dom';\nimport { useState, useReducer } from \"react\";\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'editTitle':\n      return { ...state,\n        editTitle: action.payload\n      };\n\n    case 'editBody':\n      return { ...state,\n        editBody: action.payload\n      };\n\n    case 'id':\n      return { ...state,\n        id: action.value\n      };\n\n    case 'editForm':\n      return { ...state,\n        editForm: action.payload\n      };\n\n    default:\n      return state;\n  }\n}\n\nfunction PostList(props) {\n  _s();\n\n  const posts = props.posts;\n  const [state, dispatch] = useReducer(reducer, {\n    editTitle: \"\",\n    editBody: \"\",\n    id: 1,\n    editForm: \"edit-form\"\n  });\n  var myPix = [\"\", \"https://randomwordgenerator.com/img/picture-generator/54e2d7404b52a514f1dc8460962e33791c3ad6e04e507441722872d5924fcd_640.jpg\", \"https://randomwordgenerator.com/img/picture-generator/57e8d6474d57a514f1dc8460962e33791c3ad6e04e507440742f7cd7904bc4_640.jpg\", \"https://randompicturegenerator.com/img/people-generator/gbb18dc4db1059b5ef1f6c29a86a932f4600728d365ea6602329d861b0a2d6feeb7408ab798e0c87ddddf095809b8abc0_640.jpg\", \"https://randompicturegenerator.com/img/people-generator/gb4612c18d373b8d417f10aa4b359fd5fcd0c238fe9b1a09802c3d28817c9300f3c5c526faef7801f7c6c4333eba122c8_640.jpg\", \"https://randomwordgenerator.com/img/picture-generator/57e4d5424850a914f1dc8460962e33791c3ad6e04e50744172297cd5914cc7_640.jpg\", \"https://randomwordgenerator.com/img/picture-generator/57e5d1414952a914f1dc8460962e33791c3ad6e04e5074417c2d78d39644c5_640.jpg\", \"https://randomwordgenerator.com/img/picture-generator/57e3d3474254a514f1dc8460962e33791c3ad6e04e50744172287ad2964cc0_640.jpg\", \"https://randomwordgenerator.com/img/picture-generator/57e7d74a4855a814f1dc8460962e33791c3ad6e04e50744074267ad19644c0_640.jpg\", \"https://randomwordgenerator.com/img/picture-generator/52e3d3454a52a914f1dc8460962e33791c3ad6e04e507440712f7bd5904ec6_640.jpg\"];\n\n  const handleEditInputTitleChange = e => {\n    dispatch({\n      type: \"editTitle\",\n      payload: e.target.value\n    });\n  };\n\n  const handleEditInputTextChange = e => {\n    dispatch({\n      type: \"editBody\",\n      payload: e.target.value\n    });\n  };\n\n  const handleClickShow = e => {\n    //setEditForm(\"edit-form-visible\")\n    dispatch({\n      type: \"editForm\",\n      payload: \"edit-form-visible\"\n    });\n    dispatch({\n      type: \"id\",\n      value: e.target.value\n    });\n    console.log(e.target.value);\n    console.log(state.id);\n  };\n\n  const handleClickEdit = () => {\n    fetch(`http://localhost:8000/Posts/${state.id}`, {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        title: state.editTitle,\n        body: state.editBody\n      })\n    }).then(response => response.json()) //.then((data) => console.log(data))\n    .then(() => window.location.reload()); //.then(() => dispatch({ payload: posts}))\n  }; //const [editTitle, setEditTitle] = useState(\"\");\n  //const [editBody, setEditBody] = useState(\"\");\n  //const [editForm, setEditForm] = useState(\"edit-form\");\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-list\",\n    children: [posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-list-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: myPix[post.id]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: post.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Wed jun 23 2021\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClickShow,\n        value: post.id,\n        children: \"Edit post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, post.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: state.editForm,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Edit Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => handleEditInputTitleChange(e),\n        type: \"text\",\n        value: state.editTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: e => handleEditInputTextChange(e),\n        type: \"text\",\n        value: state.editBody\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClickEdit,\n        children: \"CLICK TO EDIT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PostList, \"lhfrUwypDoPfCviIyHYOVCbczLc=\");\n\n_c = PostList;\nexport default PostList;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostList\");","map":{"version":3,"sources":["/home/ilia/Documents/Saba/my-app/src/PostList.js"],"names":["Link","useState","useReducer","reducer","state","action","type","editTitle","payload","editBody","id","value","editForm","PostList","props","posts","dispatch","myPix","handleEditInputTitleChange","e","target","handleEditInputTextChange","handleClickShow","console","log","handleClickEdit","fetch","method","headers","body","JSON","stringify","title","then","response","json","window","location","reload","map","post"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom'\nimport { useState, useReducer } from \"react\"\nimport './App.css';\n\n\nfunction reducer (state, action){\n  switch(action.type){\n    case 'editTitle':  \n      return { \n          ...state,\n          editTitle: action.payload\n      }\n    case 'editBody':  \n      return { \n          ...state,\n          editBody: action.payload\n      }\n    case 'id':  \n      return { \n        ...state,\n        id: action.value\n    }\n    case 'editForm':  \n      return { \n        ...state,\n        editForm: action.payload\n    }\n    default:\n      return state\n  }\n}\n\nfunction PostList(props) {\n  const posts = props.posts\n\n  const [state, dispatch] = useReducer(reducer, { editTitle: \"\", editBody: \"\" , id: 1, editForm: \"edit-form\"})\n\n  var myPix = [\"\",\"https://randomwordgenerator.com/img/picture-generator/54e2d7404b52a514f1dc8460962e33791c3ad6e04e507441722872d5924fcd_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e8d6474d57a514f1dc8460962e33791c3ad6e04e507440742f7cd7904bc4_640.jpg\",\n                  \"https://randompicturegenerator.com/img/people-generator/gbb18dc4db1059b5ef1f6c29a86a932f4600728d365ea6602329d861b0a2d6feeb7408ab798e0c87ddddf095809b8abc0_640.jpg\",\n                  \"https://randompicturegenerator.com/img/people-generator/gb4612c18d373b8d417f10aa4b359fd5fcd0c238fe9b1a09802c3d28817c9300f3c5c526faef7801f7c6c4333eba122c8_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e4d5424850a914f1dc8460962e33791c3ad6e04e50744172297cd5914cc7_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e5d1414952a914f1dc8460962e33791c3ad6e04e5074417c2d78d39644c5_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e3d3474254a514f1dc8460962e33791c3ad6e04e50744172287ad2964cc0_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e7d74a4855a814f1dc8460962e33791c3ad6e04e50744074267ad19644c0_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/52e3d3454a52a914f1dc8460962e33791c3ad6e04e507440712f7bd5904ec6_640.jpg\"];\n\n  const handleEditInputTitleChange = (e) => {\n    dispatch({ type: \"editTitle\", payload: e.target.value})\n  }\n\n  const handleEditInputTextChange = (e) => {\n    dispatch({ type: \"editBody\", payload: e.target.value})\n  }\n\n\n  const handleClickShow = (e) => {\n    //setEditForm(\"edit-form-visible\")\n    dispatch({ type: \"editForm\", payload: \"edit-form-visible\"})\n    dispatch({ type: \"id\", value: e.target.value})\n    console.log(e.target.value)\n    console.log(state.id)\n  }\n\n  const handleClickEdit = () => {\n    fetch(`http://localhost:8000/Posts/${state.id}`, {\n      method: \"PATCH\",\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        title: state.editTitle,\n        body : state.editBody\n        })\n    })\n    .then((response) => response.json())\n    //.then((data) => console.log(data))\n    .then(() => window.location.reload())\n    //.then(() => dispatch({ payload: posts}))\n  }\n  \n  //const [editTitle, setEditTitle] = useState(\"\");\n  //const [editBody, setEditBody] = useState(\"\");\n  //const [editForm, setEditForm] = useState(\"edit-form\");\n\n  return (\n    <div className='post-list'>\n      {posts.map(post => (\n        <div key={post.id} className=\"post-list-item\">\n          <img src={myPix[post.id]} />\n          <h4>{post.title}</h4>\n          <p>{post.body}</p>\n          <span>Wed jun 23 2021</span>\n          <button onClick={handleClickShow} value={post.id}>Edit post</button>\n        </div>\n       ))}\n       <div className={state.editForm}>\n            <h4>Edit Post</h4>\n            <input onChange={e => handleEditInputTitleChange(e)} type=\"text\" value={state.editTitle}></input>\n            <textarea onChange={e => handleEditInputTextChange(e)} type=\"text\" value={state.editBody}></textarea>\n            <button onClick={handleClickEdit}>CLICK TO EDIT</button>\n            <span>\n              <span></span>\n              <span></span>\n            </span>\n       </div>\n    </div>\n  )\n  \n}\n\nexport default PostList;"]},"metadata":{},"sourceType":"module"}