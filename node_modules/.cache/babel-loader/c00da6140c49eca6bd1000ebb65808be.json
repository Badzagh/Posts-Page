{"ast":null,"code":"import _slicedToArray from\"/home/ilia/Documents/Saba/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/ilia/Documents/Saba/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useState,useReducer}from\"react\";import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function reducer(state,action){switch(action.type){case'editTitle':return _objectSpread(_objectSpread({},state),{},{editTitle:action.payload});case'editBody':return _objectSpread(_objectSpread({},state),{},{editBody:action.payload});case'id':return _objectSpread(_objectSpread({},state),{},{id:action.value});case'editForm':return _objectSpread(_objectSpread({},state),{},{editForm:action.payload});default:return state;}}function PostList(props){var posts=props.posts;var _useReducer=useReducer(reducer,{editTitle:\"\",editBody:\"\",id:1,editForm:\"edit-form-hidden\"}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var myPix=[\"\",\"https://randomwordgenerator.com/img/picture-generator/54e2d7404b52a514f1dc8460962e33791c3ad6e04e507441722872d5924fcd_640.jpg\",\"https://randomwordgenerator.com/img/picture-generator/57e8d6474d57a514f1dc8460962e33791c3ad6e04e507440742f7cd7904bc4_640.jpg\",\"https://www.asalesguy.com/wp-content/uploads/2016/09/dark-path-970882.jpeg\",\"https://randompicturegenerator.com/img/people-generator/gbb18dc4db1059b5ef1f6c29a86a932f4600728d365ea6602329d861b0a2d6feeb7408ab798e0c87ddddf095809b8abc0_640.jpg\",\"https://randomwordgenerator.com/img/picture-generator/57e4d5424850a914f1dc8460962e33791c3ad6e04e50744172297cd5914cc7_640.jpg\",\"https://randomwordgenerator.com/img/picture-generator/57e5d1414952a914f1dc8460962e33791c3ad6e04e5074417c2d78d39644c5_640.jpg\",\"https://randomwordgenerator.com/img/picture-generator/57e3d3474254a514f1dc8460962e33791c3ad6e04e50744172287ad2964cc0_640.jpg\",\"https://randomwordgenerator.com/img/picture-generator/57e7d74a4855a814f1dc8460962e33791c3ad6e04e50744074267ad19644c0_640.jpg\",\"https://randomwordgenerator.com/img/picture-generator/52e3d3454a52a914f1dc8460962e33791c3ad6e04e507440712f7bd5904ec6_640.jpg\",\"https://randompicturegenerator.com/img/people-generator/gb4612c18d373b8d417f10aa4b359fd5fcd0c238fe9b1a09802c3d28817c9300f3c5c526faef7801f7c6c4333eba122c8_640.jpg\"];var handleEditInputTitleChange=function handleEditInputTitleChange(e){dispatch({type:\"editTitle\",payload:e.target.value});};var handleEditInputTextChange=function handleEditInputTextChange(e){dispatch({type:\"editBody\",payload:e.target.value});};var handleClickShow=function handleClickShow(e){dispatch({type:\"editForm\",payload:\"edit-form-visible\"});dispatch({type:\"id\",value:e.target.value});console.log(e.target.value);console.log(state.id);};var handleClickClose=function handleClickClose(e){dispatch({type:\"editForm\",payload:\"edit-form-hidden\"});dispatch({type:\"id\",value:1});};var handleClickEdit=function handleClickEdit(){fetch(\"https://jsonplaceholder.typicode.com/posts/\".concat(state.id),{method:\"PATCH\",headers:{'Content-Type':'application/json'},body:JSON.stringify({title:state.editTitle,body:state.editBody})}).then(function(response){return response.json();}).then(function(){return window.location.reload();});};return/*#__PURE__*/_jsxs(\"div\",{className:\"post-list\",children:[posts.map(function(post){return/*#__PURE__*/_jsxs(\"div\",{className:\"post-list-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:myPix[post.id]}),/*#__PURE__*/_jsx(\"h4\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:post.body}),/*#__PURE__*/_jsx(\"span\",{children:\"Wed jun 23 2021\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClickShow,value:post.id,children:\"Edit post\"})]},post.id);}),/*#__PURE__*/_jsxs(\"div\",{className:state.editForm,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Edit Post\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handleEditInputTitleChange(e);},type:\"text\",value:state.editTitle}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){return handleEditInputTextChange(e);},type:\"text\",value:state.editBody}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClickEdit,children:\"CLICK TO EDIT\"}),/*#__PURE__*/_jsx(\"span\",{className:\"close-icon-left\",onClick:handleClickClose}),/*#__PURE__*/_jsx(\"span\",{className:\"close-icon-right\",onClick:handleClickClose})]})]});}export default PostList;","map":{"version":3,"sources":["/home/ilia/Documents/Saba/my-app/src/PostList.js"],"names":["useState","useReducer","reducer","state","action","type","editTitle","payload","editBody","id","value","editForm","PostList","props","posts","dispatch","myPix","handleEditInputTitleChange","e","target","handleEditInputTextChange","handleClickShow","console","log","handleClickClose","handleClickEdit","fetch","method","headers","body","JSON","stringify","title","then","response","json","window","location","reload","map","post"],"mappings":"qOAAA,OAASA,QAAT,CAAmBC,UAAnB,KAAqC,OAArC,CACA,MAAO,WAAP,C,wFAGA,QAASC,CAAAA,OAAT,CAAkBC,KAAlB,CAAyBC,MAAzB,CAAgC,CAC9B,OAAOA,MAAM,CAACC,IAAd,EACE,IAAK,WAAL,CACE,sCACOF,KADP,MAEIG,SAAS,CAAEF,MAAM,CAACG,OAFtB,GAIF,IAAK,UAAL,CACE,sCACOJ,KADP,MAEIK,QAAQ,CAAEJ,MAAM,CAACG,OAFrB,GAIF,IAAK,IAAL,CACE,sCACKJ,KADL,MAEEM,EAAE,CAAEL,MAAM,CAACM,KAFb,GAIF,IAAK,UAAL,CACE,sCACKP,KADL,MAEEQ,QAAQ,CAAEP,MAAM,CAACG,OAFnB,GAIF,QACE,MAAOJ,CAAAA,KAAP,CAtBJ,CAwBD,CAED,QAASS,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACvB,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACC,KAApB,CAEA,gBAA0Bb,UAAU,CAACC,OAAD,CAAU,CAAEI,SAAS,CAAE,EAAb,CAAiBE,QAAQ,CAAE,EAA3B,CAAgCC,EAAE,CAAE,CAApC,CAAuCE,QAAQ,CAAE,kBAAjD,CAAV,CAApC,4CAAOR,KAAP,iBAAcY,QAAd,iBAEA,GAAIC,CAAAA,KAAK,CAAG,CAAC,EAAD,CAAI,8HAAJ,CACI,8HADJ,CAEI,4EAFJ,CAGI,mKAHJ,CAII,8HAJJ,CAKI,8HALJ,CAMI,8HANJ,CAOI,8HAPJ,CAQI,8HARJ,CASI,mKATJ,CAAZ,CAWA,GAAMC,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,CAACC,CAAD,CAAO,CACxCH,QAAQ,CAAC,CAAEV,IAAI,CAAE,WAAR,CAAqBE,OAAO,CAAEW,CAAC,CAACC,MAAF,CAAST,KAAvC,CAAD,CAAR,CACD,CAFD,CAIA,GAAMU,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,CAACF,CAAD,CAAO,CACvCH,QAAQ,CAAC,CAAEV,IAAI,CAAE,UAAR,CAAoBE,OAAO,CAAEW,CAAC,CAACC,MAAF,CAAST,KAAtC,CAAD,CAAR,CACD,CAFD,CAKA,GAAMW,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACH,CAAD,CAAO,CAC7BH,QAAQ,CAAC,CAAEV,IAAI,CAAE,UAAR,CAAoBE,OAAO,CAAE,mBAA7B,CAAD,CAAR,CACAQ,QAAQ,CAAC,CAAEV,IAAI,CAAE,IAAR,CAAcK,KAAK,CAAEQ,CAAC,CAACC,MAAF,CAAST,KAA9B,CAAD,CAAR,CACAY,OAAO,CAACC,GAAR,CAAYL,CAAC,CAACC,MAAF,CAAST,KAArB,EACAY,OAAO,CAACC,GAAR,CAAYpB,KAAK,CAACM,EAAlB,EACD,CALD,CAMA,GAAMe,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACN,CAAD,CAAO,CAC9BH,QAAQ,CAAC,CAAEV,IAAI,CAAE,UAAR,CAAoBE,OAAO,CAAE,kBAA7B,CAAD,CAAR,CACAQ,QAAQ,CAAC,CAAEV,IAAI,CAAE,IAAR,CAAcK,KAAK,CAAE,CAArB,CAAD,CAAR,CAED,CAJD,CAMA,GAAMe,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BC,KAAK,sDAA+CvB,KAAK,CAACM,EAArD,EAA2D,CAC9DkB,MAAM,CAAE,OADsD,CAE9DC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFqD,CAG9DC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,KAAK,CAAE7B,KAAK,CAACG,SADM,CAEnBuB,IAAI,CAAG1B,KAAK,CAACK,QAFM,CAAf,CAHwD,CAA3D,CAAL,CAQCyB,IARD,CAQM,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EARN,EASCF,IATD,CASM,iBAAMG,CAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN,EATN,EAUD,CAXD,CAcA,mBACE,aAAK,SAAS,CAAC,WAAf,WACGxB,KAAK,CAACyB,GAAN,CAAU,SAAAC,IAAI,qBACb,aAAmB,SAAS,CAAC,gBAA7B,wBACE,YAAK,GAAG,CAAExB,KAAK,CAACwB,IAAI,CAAC/B,EAAN,CAAf,EADF,cAEE,oBAAK+B,IAAI,CAACR,KAAV,EAFF,cAGE,mBAAIQ,IAAI,CAACX,IAAT,EAHF,cAIE,yCAJF,cAKE,eAAQ,OAAO,CAAER,eAAjB,CAAkC,KAAK,CAAEmB,IAAI,CAAC/B,EAA9C,uBALF,GAAU+B,IAAI,CAAC/B,EAAf,CADa,EAAd,CADH,cAUG,aAAK,SAAS,CAAEN,KAAK,CAACQ,QAAtB,wBACK,iCADL,cAEK,cAAO,QAAQ,CAAE,kBAAAO,CAAC,QAAID,CAAAA,0BAA0B,CAACC,CAAD,CAA9B,EAAlB,CAAqD,IAAI,CAAC,MAA1D,CAAiE,KAAK,CAAEf,KAAK,CAACG,SAA9E,EAFL,cAGK,iBAAU,QAAQ,CAAE,kBAAAY,CAAC,QAAIE,CAAAA,yBAAyB,CAACF,CAAD,CAA7B,EAArB,CAAuD,IAAI,CAAC,MAA5D,CAAmE,KAAK,CAAEf,KAAK,CAACK,QAAhF,EAHL,cAIK,eAAQ,OAAO,CAAEiB,eAAjB,2BAJL,cAKK,aAAM,SAAS,CAAC,iBAAhB,CAAkC,OAAO,CAAED,gBAA3C,EALL,cAMK,aAAM,SAAS,CAAC,kBAAhB,CAAmC,OAAO,CAAEA,gBAA5C,EANL,GAVH,GADF,CAsBD,CAED,cAAeZ,CAAAA,QAAf","sourcesContent":["import { useState, useReducer } from \"react\"\nimport './App.css';\n\n\nfunction reducer (state, action){\n  switch(action.type){\n    case 'editTitle':  \n      return { \n          ...state,\n          editTitle: action.payload\n      }\n    case 'editBody':  \n      return { \n          ...state,\n          editBody: action.payload\n      }\n    case 'id':  \n      return { \n        ...state,\n        id: action.value\n    }\n    case 'editForm':  \n      return { \n        ...state,\n        editForm: action.payload\n    }\n    default:\n      return state\n  }\n}\n\nfunction PostList(props) {\n  const posts = props.posts\n\n  const [state, dispatch] = useReducer(reducer, { editTitle: \"\", editBody: \"\" , id: 1, editForm: \"edit-form-hidden\"})\n\n  var myPix = [\"\",\"https://randomwordgenerator.com/img/picture-generator/54e2d7404b52a514f1dc8460962e33791c3ad6e04e507441722872d5924fcd_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e8d6474d57a514f1dc8460962e33791c3ad6e04e507440742f7cd7904bc4_640.jpg\",\n                  \"https://www.asalesguy.com/wp-content/uploads/2016/09/dark-path-970882.jpeg\",\n                  \"https://randompicturegenerator.com/img/people-generator/gbb18dc4db1059b5ef1f6c29a86a932f4600728d365ea6602329d861b0a2d6feeb7408ab798e0c87ddddf095809b8abc0_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e4d5424850a914f1dc8460962e33791c3ad6e04e50744172297cd5914cc7_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e5d1414952a914f1dc8460962e33791c3ad6e04e5074417c2d78d39644c5_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e3d3474254a514f1dc8460962e33791c3ad6e04e50744172287ad2964cc0_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/57e7d74a4855a814f1dc8460962e33791c3ad6e04e50744074267ad19644c0_640.jpg\",\n                  \"https://randomwordgenerator.com/img/picture-generator/52e3d3454a52a914f1dc8460962e33791c3ad6e04e507440712f7bd5904ec6_640.jpg\",\n                  \"https://randompicturegenerator.com/img/people-generator/gb4612c18d373b8d417f10aa4b359fd5fcd0c238fe9b1a09802c3d28817c9300f3c5c526faef7801f7c6c4333eba122c8_640.jpg\"];\n\n  const handleEditInputTitleChange = (e) => {\n    dispatch({ type: \"editTitle\", payload: e.target.value})\n  }\n\n  const handleEditInputTextChange = (e) => {\n    dispatch({ type: \"editBody\", payload: e.target.value})\n  }\n\n\n  const handleClickShow = (e) => {\n    dispatch({ type: \"editForm\", payload: \"edit-form-visible\"})\n    dispatch({ type: \"id\", value: e.target.value})\n    console.log(e.target.value)\n    console.log(state.id)\n  }\n  const handleClickClose = (e) => {\n    dispatch({ type: \"editForm\", payload: \"edit-form-hidden\"})\n    dispatch({ type: \"id\", value: 1})\n    \n  }\n\n  const handleClickEdit = () => {\n    fetch(`https://jsonplaceholder.typicode.com/posts/${state.id}`, {\n      method: \"PATCH\",\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        title: state.editTitle,\n        body : state.editBody\n        })\n    })\n    .then((response) => response.json())\n    .then(() => window.location.reload())\n  }\n  \n\n  return (\n    <div className='post-list'>\n      {posts.map(post => (\n        <div key={post.id} className=\"post-list-item\">\n          <img src={myPix[post.id]} />\n          <h4>{post.title}</h4>\n          <p>{post.body}</p>\n          <span>Wed jun 23 2021</span>\n          <button onClick={handleClickShow} value={post.id}>Edit post</button>\n        </div>\n       ))}\n       <div className={state.editForm}>\n            <h4>Edit Post</h4>\n            <input onChange={e => handleEditInputTitleChange(e)} type=\"text\" value={state.editTitle}></input>\n            <textarea onChange={e => handleEditInputTextChange(e)} type=\"text\" value={state.editBody}></textarea>\n            <button onClick={handleClickEdit}>CLICK TO EDIT</button>\n            <span className='close-icon-left' onClick={handleClickClose}></span>\n            <span className='close-icon-right' onClick={handleClickClose}></span>\n       </div>\n    </div>\n  )\n  \n}\n\nexport default PostList;"]},"metadata":{},"sourceType":"module"}