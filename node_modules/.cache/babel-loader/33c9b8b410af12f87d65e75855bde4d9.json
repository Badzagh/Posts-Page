{"ast":null,"code":"import _regeneratorRuntime from\"/home/ilia/Documents/Saba/my-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ilia/Documents/Saba/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ilia/Documents/Saba/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/ilia/Documents/Saba/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useEffect,useReducer,useState}from\"react\";import PostList from\"./PostList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function reducer(state,action){return _objectSpread(_objectSpread({},state),{},{posts:action.payload});}function DataFetching(){var _useReducer=useReducer(reducer,{posts:[]}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var abortCont=new AbortController();setTimeout(function(){function getResponse(){return _getResponse.apply(this,arguments);}function _getResponse(){_getResponse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://jsonplaceholder.typicode.com/posts',{signal:abortCont.signal}).then(function(response){return response.json();}).then(function(data){dispatch({payload:data});console.log(data,\"its posts\");});case 2:case\"end\":return _context.stop();}}},_callee);}));return _getResponse.apply(this,arguments);};getResponse();},100);return function(){return abortCont.abort();};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(PostList,{posts:state.posts})});}export default DataFetching;","map":{"version":3,"sources":["/home/ilia/Documents/Saba/my-app/src/DataFetching.js"],"names":["useEffect","useReducer","useState","PostList","reducer","state","action","posts","payload","DataFetching","dispatch","abortCont","AbortController","setTimeout","getResponse","fetch","signal","then","response","json","data","console","log","abort"],"mappings":"wcAAA,OAASA,SAAT,CAAoBC,UAApB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,gGAGA,QAASC,CAAAA,OAAT,CAAkBC,KAAlB,CAAyBC,MAAzB,CAAgC,CAC5B,sCACOD,KADP,MAEIE,KAAK,CAAED,MAAM,CAACE,OAFlB,GAIH,CAID,QAASC,CAAAA,YAAT,EAAwB,CACpB,gBAA0BR,UAAU,CAACG,OAAD,CAAU,CAAEG,KAAK,CAAE,EAAT,CAAV,CAApC,4CAAOF,KAAP,iBAAcK,QAAd,iBAEAV,SAAS,CAAC,UAAM,CACZ,GAAMW,CAAAA,SAAS,CAAG,GAAIC,CAAAA,eAAJ,EAAlB,CAEAC,UAAU,CAAC,UAAM,SACEC,CAAAA,WADF,2IACb,yJACUC,CAAAA,KAAK,CAAC,4CAAD,CAA+C,CAAEC,MAAM,CAAEL,SAAS,CAACK,MAApB,CAA/C,CAAL,CACLC,IADK,CACA,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADA,EAELF,IAFK,CAEA,SAACG,IAAD,CAAU,CACZV,QAAQ,CAAC,CAAEF,OAAO,CAAEY,IAAX,CAAD,CAAR,CACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAkB,WAAlB,EACH,CALK,CADV,uDADa,8CASZ,CAEDN,WAAW,GACd,CAZS,CAYP,GAZO,CAAV,CAcA,MAAO,kBAAMH,CAAAA,SAAS,CAACY,KAAV,EAAN,EAAP,CACH,CAlBQ,CAkBN,EAlBM,CAAT,CAsBA,mBACI,sCACI,KAAC,QAAD,EAAU,KAAK,CAAGlB,KAAK,CAACE,KAAxB,EADJ,EADJ,CAKH,CAED,cAAeE,CAAAA,YAAf","sourcesContent":["import { useEffect, useReducer, useState } from \"react\";\nimport PostList from \"./PostList\";\n\n\nfunction reducer (state, action){\n    return { \n        ...state,\n        posts: action.payload\n    }\n}\n\n\n\nfunction DataFetching() {\n    const [state, dispatch] = useReducer(reducer, { posts: []});\n\n    useEffect(() => {\n        const abortCont = new AbortController();\n\n        setTimeout(() => {\n            async function getResponse() {\n                await fetch('https://jsonplaceholder.typicode.com/posts', { signal: abortCont.signal })\n                .then((response) => response.json())\n                .then((data) => {\n                    dispatch({ payload: data})\n                    console.log(data, \"its posts\")\n                })\n                \n            };\n            \n            getResponse();\n        }, 100);\n            \n        return () => abortCont.abort();\n    }, [])\n    \n    \n\n    return (\n        <>\n            <PostList posts ={state.posts}/>\n        </>\n    )\n}\n\nexport default DataFetching;"]},"metadata":{},"sourceType":"module"}